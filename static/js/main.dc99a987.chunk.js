(this["webpackJsonpblockchain-transactions"]=this["webpackJsonpblockchain-transactions"]||[]).push([[0],{66:function(e,t,n){e.exports=n(97)},97:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),o=n.n(r),l=n(57),u=n(18),i=n(29),s=n(5),m=n(111),d=n(112),f=n(113),E=n(114),b=n(115),p=n(116),O=n(117),v=n(118),A=n(119),g=Object(s.a)((function(e){return Object(m.a)({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}})}))(d.a);function y(){var e=Object(u.d)((function(e){return e.transactions}),u.b),t=Object(u.d)((function(e){return e.transactions.reduce((function(e,t){return e+t.amount}),0)}));return c.a.createElement("div",null,c.a.createElement(f.a,{color:"textSecondary"},"\u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430: ",t,"BTC"),c.a.createElement(E.a,{component:b.a},c.a.createElement(p.a,{"aria-label":"Transactions table"},c.a.createElement("colgroup",null,c.a.createElement("col",{style:{width:"40%"}}),c.a.createElement("col",{style:{width:"40%"}}),c.a.createElement("col",{style:{width:"20%"}})),c.a.createElement(O.a,null,c.a.createElement(d.a,null,c.a.createElement(v.a,{align:"left"},"\u041e\u0442 \u043a\u043e\u0433\u043e"),c.a.createElement(v.a,{align:"left"},"\u041a\u043e\u043c\u0443"),c.a.createElement(v.a,{align:"left"},"\u0421\u0443\u043c\u043c\u0430"))),c.a.createElement(A.a,null,e.map((function(e,t){return c.a.createElement(g,{key:t},c.a.createElement(v.a,{component:"th",scope:"row",align:"left"},e.fromAddr),c.a.createElement(v.a,{align:"left"},e.toAddr),c.a.createElement(v.a,{align:"left"},e.amount,"BTC"))}))))))}var h=n(120),j=n(102),C=n(62);var k=n.n(C)()({buttonGroup:{justifyContent:"center",display:"flex"}});function N(){var e=Object(u.c)(),t=new WebSocket("wss://ws.blockchain.info/inv"),n=k(),r=Object(a.useCallback)((function(t){return e(function(e){var t={type:"ADD_TRANSACTION",transaction:e};return function(e){e(t)}}(t))}),[e]),o=Object(a.useCallback)((function(){return e(function(){var e={type:"CLEAR_TRANSACTIONS",transaction:{}};return function(t){t(e)}}())}),[e]);return Object(a.useEffect)((function(){t.onopen=function(){console.log("connected")},t.onmessage=function(e){var t=JSON.parse(e.data),n=t.x.inputs.map((function(e){return"".concat(e.prev_out.addr,"\n")})),a=t.x.out.map((function(e){return"".concat(e.addr,"\n")})),c=t.x.out.reduce((function(e,t){return e+t.value}),0);r({fromAddr:n,toAddr:a,amount:c/1e8})},t.onclose=function(){console.log("disconnected")}})),c.a.createElement("div",null,c.a.createElement(h.a,{className:n.buttonGroup,color:"primary","aria-label":"outlined primary button group"},c.a.createElement(j.a,{onClick:function(){try{t.send(JSON.stringify({op:"unconfirmed_sub"}))}catch(e){console.log(e)}}},"\u0417\u0430\u043f\u0443\u0441\u043a"),c.a.createElement(j.a,{onClick:function(){try{t.send(JSON.stringify({op:"unconfirmed_unsub"}))}catch(e){console.log(e)}}},"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"),c.a.createElement(j.a,{onClick:o},"\u0421\u0431\u0440\u043e\u0441")))}var S=function(){return c.a.createElement("div",null,c.a.createElement(N,null),c.a.createElement(y,null))},T=n(33),w={transactions:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRANSACTION":var n={fromAddr:t.transaction.fromAddr,toAddr:t.transaction.toAddr,amount:t.transaction.amount};return Object(T.a)(Object(T.a)({},e),{},{transactions:[n].concat(e.transactions)});case"CLEAR_TRANSACTIONS":return Object(T.a)(Object(T.a)({},e),{},{transactions:[]})}return e},x=Object(i.c)(_,Object(i.a)(l.a));o.a.render(c.a.createElement(u.a,{store:x},c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null))),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.dc99a987.chunk.js.map